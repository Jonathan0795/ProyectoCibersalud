<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="es-PE">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Cibersalud - Mi Perfil</title>
	<link rel="icon" href="icon/c.ico">
	<link href="css/venta.css" rel="stylesheet">
	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
</head>

<body class="body">
	<div class="container__prueba">
		<header class="header" id="myHeader">
			<div class="nav__header-Pay">
				<div class="hearder__titulo header__titulo-loguin">
					<a class="titulo__a" href="/">Cibersalud</a>
				</div>
			</div>
		</header>
		<main class="main">
			<div class="container-perfil">
				<div class="perfil-titulo">
					<img src="img/Svg/undraw_male_avatar_323b.svg" class="img-perfil"> <label
						class="lbl-catego-titulo" for="" th:text="${cliente.nombrecompleto}">Jonathan Cesar Aguinaga Juarez</label>
				</div>
				<div class="perfil-opciones">
					<a th:href="@{'perfil?idcli=' + ${cliente.idcliente}}"
						class="a-catego-perfil a-catego-perfil-active"><i class="fa-solid fa-user"></i> Mi
						perfil</a>
					<a href="/cliente/direccion" class="a-catego-perfil"><i class="fa-solid fa-location-dot"></i> Mi
						dirección</a>
					<a href="/cliente/pedidos" class="a-catego-perfil"><i class="fa-solid fa-box-open"></i>
						Mis compras</a>
					<a href="#" class="a-catego-perfil"><i class="fa-solid fa-right-to-bracket"></i>
						Cerrar Sesión</a>
				</div>
				<div class="perfil-resultados">
					<div class="container-resultados">
						<div class="resultados-header"><label class="lbl-resul-head">Datos Personales</label></div>
						<div class="resultados-main">
							<form class="form-perfil" method="Post" th:action="@{/cliente/actualizar}"
								th:object="${cliente}">

								<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
								<div class="form-row">
									<select required class="input-perfil" th:field="*{iddoc}" autocomplete="off">
										<option th:each="d: ${lstDocumento}" th:value="${d.iddoc}"
											th:text="${d.descdoc}">
										</option>
									</select>
									<label alt="Label" data-placeholder="Tipo de Documento *"
										class="lbl-perfil"></label>
									<small class="form-tex text-danger" th:if="${#fields.hasErrors('iddoc')}"
										th:errors="*{iddoc}">
									</small>
								</div>
								<div class="form-row">
									<input type="text" required class="input-perfil" th:field="*{documento}"
										autocomplete="off">
									<label alt="Label" data-placeholder="Documento *" class="lbl-perfil"></label>
									<small class="form-tex text-danger" th:if="${#fields.hasErrors('documento')}"
										th:errors="*{documento}">
									</small>
								</div>
								<div class="form-row">
									<input type="date" required class="input-perfil" th:field="*{fechnac}"
										autocomplete="off">
									<label alt="Label" data-placeholder="Fecha Nacimiento *" class="lbl-perfil"></label>
									<small class="form-tex text-danger" th:if="${#fields.hasErrors('fechnac')}"
										th:errors="*{fechnac}">
									</small>
								</div>
								<div class="form-row">
									<input type="text" required class="input-perfil" th:field="*{apellidopat}"
										autocomplete="off">
									<label alt="Label" data-placeholder="Apellido Paterno *" class="lbl-perfil"></label>
									<small class="form-tex text-danger" th:if="${#fields.hasErrors('apellidopat')}"
										th:errors="*{apellidopat}">
									</small>
								</div>
								<div class="form-row">
									<input type="text" required class="input-perfil" th:field="*{apellidomat}"
										autocomplete="off">
									<label alt="Label" data-placeholder="Apellido Materno *" class="lbl-perfil"></label>
									<small class="form-tex text-danger" th:if="${#fields.hasErrors('apellidomat')}"
										th:errors="*{apellidomat}">
									</small>
								</div>
								<div class="form-row">
									<input type="text" required class="input-perfil" th:field="*{nombre}"
										autocomplete="off">
									<label alt="Label" data-placeholder="Nombre *" class="lbl-perfil"></label>
									<small class="form-tex text-danger" th:if="${#fields.hasErrors('nombre')}"
										th:errors="*{nombre}">
									</small>
								</div>
								<div class="form-row">
									<select required class="input-perfil" id="cboSexo" th:field="*{tiposexo}"
										autocomplete="off">
										<option value="-1">Seleccione</option>
										<option value="M">Masculino</option>
										<option value="F">Femenino</option>
									</select>
									<label alt="Label" data-placeholder="Sexo *" class="lbl-perfil"></label>
									<small class="form-tex text-danger" th:if="${#fields.hasErrors('tiposexo')}"
										th:errors="*{tiposexo}">
									</small>
								</div>
								<div class="form-row">
									<input type="text" required class="input-perfil" th:field="*{celular}"
										autocomplete="off">
									<label alt="Label" data-placeholder="Celular *" class="lbl-perfil"></label>
									<small class="form-tex text-danger" th:if="${#fields.hasErrors('celular')}"
										th:errors="*{celular}">
									</small>
								</div>
								<div class="form-row">
									<input type="email" required class="input-perfil" th:field="*{username}"
										autocomplete="off">
									<label alt="Label" data-placeholder="Correo Electrónico *"
										class="lbl-perfil"></label>
									<small class="form-tex text-danger" th:if="${#fields.hasErrors('username')}"
										th:errors="*{username}">
									</small>
								</div>
								<div class="restulados-footer">
									<button type="submit" class="btn-resul-perfil">Guardar</button>
								</div>
								<input type="hidden" th:field="*{password}">
								<input type="hidden" th:field="*{idcliente}">
							</form>
						</div>
					</div>
				</div>
			</div>
		</main>
		<footer class="footer-Pay">
			<div class="footer__contact-Pay">
				<div class="contact-Pay-Img"><img src="../img/undraw_contact_us_re_4qqt.svg" class="img-Pay"></div>
				<div class="contact-Pay-Info">
					<div class="contac-1">
						<p class="contacto-help">¿Necesitas ayuda?</p>
						<p>Conversa con nosotros de lunes a sabado de 7:00 am hasta las 6:00 pm.</p>
					</div>
					<div class="contac-2">
						<p class="p-help">
							<i class="fas fa-phone-alt"></i> Llámanos al <span class="span-help span-tlf">(01)
								558-5062</span>
						</p>
						<p class="p-help">
							<i class="fas fa-envelope"></i> Escríbenos a <span
								class="span-help">cibersalud@gmail.com</span>
						</p>
					</div>
				</div>
			</div>
			<div class="footer__copy">
				<p>Copyright&copy Cibersalud 2022 Todos los derechos reservados</p>
			</div>
		</footer>
	</div>
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
	<script src="js/sweetalert2.all.min.js"></script>
	<script src="js/venta.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</body>
<script th:inline="javascript">
	$(document).ready(function () {
		let act = new URL(window.location.href).searchParams.get("action");
		var data = /*[[${respuesta}]]*/ {} ;
		if (data === "success" && act !== null) {
			return new swal("Actualización Exitosa", " ", "success");

		} else if (data === "error" && act !== null) {
			return new swal("Oops...", "Problemas al registrar! :(", "error");
		}
		var errorIn = document.querySelectorAll('small[class="text-danger"]'); 
		if(errorIn.length!==0){			
			return new swal("Oops...", "REVISE LOS DATOS INGRESADOS :(", "error");
		}
		
	});  
</script>

</html>